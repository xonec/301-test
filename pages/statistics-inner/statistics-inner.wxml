<view class="page">
  <view class="safe-top" />
  <view class="header">内包</view>
  <view class="body">
    <view class="form">
      <view class="field" wx:for="{{fields}}" wx:key="key">
        <text class="label">{{item.label}}</text>
        <input class="input" type="digit" placeholder="{{item.placeholder}}" data-key="{{item.key}}" bindinput="onInput" />
      </view>
    </view>
    <view class="btn-row">
      <button class="btn primary" bindtap="onCalcYield">计算收率和平衡率</button>
      <button class="btn success" bindtap="onCalcRange">计算产品数量范围</button>
    </view>
    <view class="result-card">
      <view class="row">
        <text class="label">内包装收率:</text>
        <text class="value">{{yieldRate}}</text>
      </view>
      <view class="row">
        <text class="label">物料平衡率:</text>
        <text class="value">{{balanceRate}}</text>
      </view>
      <view class="row">
        <text class="label">建议罐装数量范围:</text>
        <text class="value">{{rangeText}}</text>
      </view>
    </view>
  </view>
</view>
